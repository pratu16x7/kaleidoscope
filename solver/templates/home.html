{% extends "base.html" %}

{% macro grid_pattern(grid, classname) -%}
  <div class="grid {{classname}}">
    {% for row in grid %}
    <div class="grid-row">
      {% for cell in row %}
      <div class="grid-cell 
        {% if cell == None %} white 
        {% elif cell['color'] == 'r' %} red 
        {% else %} black 
        {% endif %}
        
        {% if cell %}
          {% if cell['edges'][0] == '1' %} up {% endif %}
          {% if cell['edges'][1] == '1' %} left {% endif %}
          {% if cell['edges'][2] == '1' %} right {% endif %}
          {% if cell['edges'][3] == '1' %} down {% endif %}
        {% endif %}
        ">
      </div>
      {% endfor %}
    </div>
    {% endfor %}
  </div>
{%- endmacro %}


{% block content %}
  {{ grid_pattern(data.grid, 'board') }}
  
  <h3>Data</h3>
  <div class="data">
    Red: {{ data.red_count }}
    Black: {{ data.black_count }}
    Total: {{ data.total_count }}
  </div>
  
  <h3>Holes, smallest first</h3>
  <p>Coming up in an hour, just you wait</p>
  
  <h3>Pieces</h3>
  {% for piece in pieces %}
    {{ grid_pattern(piece.grid, 'piece') }}
  {% endfor %}
{% endblock %}

